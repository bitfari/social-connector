'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

const index = require('./index-0b8c30cf.js');

const closeIconSvg = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTcgNy4wMDAxMUwxNyAxNy4wMDAxIiBzdHJva2U9IiMyNDI2MjkiIHN0cm9rZS13aWR0aD0iMS41IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPHBhdGggZD0iTTE3IDdMNyAxNyIgc3Ryb2tlPSIjMjQyNjI5IiBzdHJva2Utd2lkdGg9IjEuNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjwvc3ZnPgo=';

const hiroWalletLogoSvg = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTE4IiBoZWlnaHQ9IjIxIiB2aWV3Qm94PSIwIDAgMTE4IDIxIiBmaWxsPSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPgo8cGF0aCBkPSJNMzUuMjExOSAyLjc3NDYzVjE1Ljg4OTlIMzcuMzY2NlYxMC4xOTQxSDQzLjQ1NThWMTUuODg5OUg0NS42MTA0VjIuNzc0NjNINDMuNDU1OFY4LjI4MzA0SDM3LjM2NjZWMi43NzQ2M0gzNS4yMTE5WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTQ4LjYxOTggMi40NzQ4NUM0Ny45MjY1IDIuNDc0ODUgNDcuMzgzMiAyLjk4MDczIDQ3LjM4MzIgMy42OTI3QzQ3LjM4MzIgNC40MDQ2NyA0Ny45MjY1IDQuOTEwNTUgNDguNjE5OCA0LjkxMDU1QzQ5LjMxMyA0LjkxMDU1IDQ5Ljg1NjQgNC40MDQ2NyA0OS44NTY0IDMuNjkyN0M0OS44NTY0IDIuOTgwNzMgNDkuMzEzIDIuNDc0ODUgNDguNjE5OCAyLjQ3NDg1Wk00Ny42MDggNi4yOTcwMlYxNS44ODk5SDQ5LjYzMTVWNi4yOTcwMkg0Ny42MDhaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNNTYuMjgwNCA2LjI5NzAyQzU0LjcwNjUgNi4yOTcwMiA1My45MzgzIDYuOTM0MDQgNTMuNDUxMiA3LjczOTdMNTMuMjI2NCA2LjI5NzAySDUxLjQyNzdWMTUuODg5OUg1My40NTEyVjExLjA3NDdDNTMuNDUxMiA5LjU5NDU3IDU0LjAzMiA4LjE4OTM2IDU1LjgzMDcgOC4xODkzNkg1Ni43M1Y2LjI5NzAySDU2LjI4MDRaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNNjEuOTA0IDE2LjAwMjNDNjQuODI2OCAxNi4wMDIzIDY2Ljc5NDEgMTQuMDM1IDY2Ljc5NDEgMTEuMDkzNUM2Ni43OTQxIDguMTcwNjMgNjQuODI2OCA2LjE4NDYgNjEuOTA0IDYuMTg0NkM1OC45ODExIDYuMTg0NiA1Ny4wMTM4IDguMTcwNjMgNTcuMDEzOCAxMS4wOTM1QzU3LjAxMzggMTQuMDM1IDU4Ljk4MTEgMTYuMDAyMyA2MS45MDQgMTYuMDAyM1pNNjEuOTA0IDE0LjI3ODZDNjAuMTk5IDE0LjI3ODYgNTkuMDkzNiAxMi45NDgzIDU5LjA5MzYgMTEuMDkzNUM1OS4wOTM2IDkuMjM4NTggNjAuMTk5IDcuOTA4MzIgNjEuOTA0IDcuOTA4MzJDNjMuNjA5IDcuOTA4MzIgNjQuNzMzMSA5LjIzODU4IDY0LjczMzEgMTEuMDkzNUM2NC43MzMxIDEyLjk0ODMgNjMuNjA5IDE0LjI3ODYgNjEuOTA0IDE0LjI3ODZaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNNzAuMDk4MiAyLjc3NDYzTDc0LjA3MDMgMTUuODg5OUg3NS4yODgxTDc4LjY3OTQgNC40NjA4OEw4Mi4wNzA2IDE1Ljg4OTlIODMuMjg4NEw4Ny4yNzkyIDIuNzc0NjNIODYuMjNMODIuNjg4OSAxNC41NTk2TDc5LjI0MTUgMi43NzQ2M0g3OC4yMTFMNzQuNjY5OCAxNC41NTk2TDcxLjE2NjIgMi43NzQ2M0g3MC4wOTgyWiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTk2LjE5NDQgMTUuMDA5M0M5NS42Njk4IDE1LjAwOTMgOTUuMzUxMyAxNC42NzIxIDk1LjM1MTMgMTQuMDkxMlY5LjY2OTUxQzk1LjM1MTMgNy40OTYxMyA5NC4wMDIzIDYuMjc4MjggOTEuNjIyOCA2LjI3ODI4Qzg5LjQ0OTQgNi4yNzgyOCA4OC4wMjU1IDcuMzI3NSA4Ny43ODE5IDkuMDUxMjJIODguNzM3NEM4OC45ODEgNy44ODk1OCA4OS45OTI4IDcuMTIxNDEgOTEuNTg1MyA3LjEyMTQxQzkzLjM2NTIgNy4xMjE0MSA5NC4zOTU3IDguMDU4MjEgOTQuMzk1NyA5LjYzMjA0VjEwLjQ1NjRIOTEuMTczMUM4OC43Mzc0IDEwLjQ1NjQgODcuNDI1OSAxMS41MDU3IDg3LjQyNTkgMTMuMjg1NkM4Ny40MjU5IDE0Ljk3MTggODguNzU2MiAxNi4wMDIzIDkwLjc5ODQgMTYuMDAyM0M5Mi43MjgyIDE2LjAwMjMgOTMuODg5OSAxNS4xMDMgOTQuNDMzMiAxMy45MjI2VjE0LjMxNjFDOTQuMzk1NyAxNS4yOTAzIDk0Ljg2NDEgMTUuODg5OSA5NS45ODgzIDE1Ljg4OTlIOTYuNTUwNFYxNS4wMDkzSDk2LjE5NDRaTTk0LjM5NTcgMTIuMDQ5Qzk0LjM5NTcgMTMuODY2NCA5My4xMDI5IDE1LjE3NzkgOTAuODU0NiAxNS4xNzc5Qzg5LjM1NTcgMTUuMTc3OSA4OC40MDAyIDE0LjQwOTcgODguNDAwMiAxMy4yMjk0Qzg4LjQwMDIgMTEuOTc0MSA4OS4zNTU3IDExLjI4MDggOTEuMDk4MiAxMS4yODA4SDk0LjM5NTdWMTIuMDQ5WiIgZmlsbD0iYmxhY2siLz4KPHBhdGggZD0iTTk3LjY0IDIuNzc0NjNWMTUuODg5OUg5OC41OTU1VjIuNzc0NjNIOTcuNjRaIiBmaWxsPSJibGFjayIvPgo8cGF0aCBkPSJNMTAwLjY1NSAyLjc3NDYzVjE1Ljg4OTlIMTAxLjYxVjIuNzc0NjNIMTAwLjY1NVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xMDMuMzUxIDExLjEzMDlDMTAzLjM1MSAxNC4wMTYzIDEwNS4yMDYgMTYuMDAyMyAxMDcuOTA0IDE2LjAwMjNDMTA5Ljk4MyAxNi4wMDIzIDExMS41MzggMTQuNjUzMyAxMTEuOTY5IDEyLjc0MjJIMTEwLjk5NUMxMTAuNjIgMTQuMjIyNCAxMDkuMzg0IDE1LjE0MDUgMTA3LjgyOSAxNS4xNDA1QzEwNS44MDUgMTUuMTQwNSAxMDQuMzgxIDEzLjYwNDEgMTA0LjM0NCAxMS4zNzQ1QzEwNC4zNDQgMTEuMjk5NiAxMDQuMzQ0IDExLjIyNDYgMTA0LjM2MiAxMS4xNDk3SDExMi4xQzExMi4xMTkgMTEuMDE4NSAxMTIuMTE5IDEwLjg2ODYgMTEyLjExOSAxMC43NTYyQzExMi4wMjYgNy45MjcwNiAxMTAuMjgzIDYuMjc4MjggMTA3LjczNSA2LjI3ODI4QzEwNS4xNDkgNi4yNzgyOCAxMDMuMzUxIDguMjI2ODQgMTAzLjM1MSAxMS4xMzA5Wk0xMDQuNDE5IDEwLjM0NEMxMDQuNTg3IDguNDE0MiAxMDYuMDExIDcuMTIxNDEgMTA3Ljc1NCA3LjEyMTQxQzEwOS42MDkgNy4xMjE0MSAxMTAuOTM5IDguMjY0MzEgMTExLjA4OSAxMC4zNDRIMTA0LjQxOVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGQ9Ik0xMTQuMzQ3IDEzLjY3OUMxMTQuMzQ3IDE1LjE5NjcgMTE0Ljk2NSAxNS44ODk5IDExNi41NzYgMTUuODg5OUgxMThWMTUuMDA5M0gxMTYuNjE0QzExNS42NTggMTUuMDA5MyAxMTUuMzAyIDE0LjYzNDYgMTE1LjMwMiAxMy42NjAzVjcuMjcxMjlIMTE3LjgzMlY2LjM5MDdIMTE1LjMwMlYzLjczMDE3SDExNC4zNDdWNi4zOTA3SDExMi41NDhWNy4yNzEyOUgxMTQuMzQ3VjEzLjY3OVoiIGZpbGw9ImJsYWNrIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNMjEuMjQyNSAyMC40MjU1TDI4LjE4NzIgMTAuMjEyN0wyMS4yNDI1IDBINi45NDQ3VjIwLjQyNTVIMjEuMjQyNVpNNi45NDQ2NiAyMC40MjU1TDAgMTAuMjEyN0w2Ljk0NDY2IDEuNTE3NzhlLTA1VjIwLjQyNTVaTTE5LjIgOC4zNDc2OUgxNi4xNDczTDE4LjI5MSA1LjEwNjM3SDE2LjY3MDRMMTQuMDg5MyA5LjAxNjU0TDExLjUxNjkgNS4xMDYzN0g5Ljg5NjE5TDEyLjAzOTkgOC4zNDc2OUg4Ljk4NzI1VjkuNTk5NjNIMTkuMlY4LjM0NzY5Wk0xNi4wODczIDEyLjAzNDlMMTguMjU2NyAxNS4zMTkxSDE2LjYzNjFMMTQuMDg5MyAxMS40NjA0TDExLjU0MjYgMTUuMzE5MUg5LjkzMDQ5TDEyLjA5OTkgMTIuMDQzNUg4Ljk4NzI1VjEwLjgwMDFIMTkuMlYxMi4wMzQ5SDE2LjA4NzNaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K';

const isChrome = () => {
  const isChromium = !!window['chrome'];
  const winNav = window.navigator;
  const vendorName = winNav.vendor;
  const isOpera = typeof window.opr !== 'undefined';
  const isIEedge = winNav.userAgent.includes('Edge');
  const isIOSChrome = /CriOS/.exec(winNav.userAgent);
  if (isIOSChrome) {
    return false;
  }
  else if (isChromium !== null &&
    typeof isChromium !== 'undefined' &&
    vendorName === 'Google Inc.' &&
    isOpera === false &&
    isIEedge === false) {
    return true;
  }
  else {
    return false;
  }
};
const getBrowser = () => {
  if (isChrome()) {
    return 'Chrome';
  }
  else if (window.navigator.userAgent.includes('Firefox')) {
    return 'Firefox';
  }
  return null;
};

const modalCss = ":host{all:initial}.modal-container{display:flex;flex-direction:column;background-color:rgba(0, 0, 0, 0.48);width:100%;height:100%;position:fixed;top:0px;left:0px;justify-content:center;font-family:\"Inter\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";z-index:8999}.modal-body{width:486px;max-width:100%;max-height:calc(100% - 48px);background:white;margin-left:auto;margin-right:auto;border-radius:12px}.modal-body div{box-sizing:border-box}.modal-header{display:flex;align-items:center;justify-content:space-between;padding:24px}.header-left{display:flex;align-items:center}.header-right{cursor:pointer}.modal-content{display:flex;flex-direction:column;align-items:center}.modal-illustration{position:relative;padding-top:12px}.modal-title{color:#242629;font-family:\"Open Sauce One\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-weight:500;padding:24px 48px 10px 64px;display:block;text-align:center}.supported{font-size:32px;line-height:40px}.unsupported{font-size:24px;line-height:36px}.modal-subtitle{font-size:16px;font-weight:400;line-height:24px;color:#74777d;text-align:center;padding:10px 32px 24px 32px}.modal-subtitle a{color:#5546ff;text-decoration:none}.button-container{display:flex;flex-direction:column;justify-content:center;align-items:center;padding:0px 24px 24px 24px}.button{width:100%;max-width:209px;margin:0px auto;box-sizing:border-box;border-radius:8px;font-size:14px;font-weight:500;line-height:20px;display:block;align-items:center;justify-content:center;background-color:#5546ff;color:#ffffff;min-height:48px;min-width:126px;padding:14px 24px;-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-transition:all 250ms;transition:all 250ms;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap;outline:none;border:none;cursor:pointer}.modal-footer{width:100%;margin-top:10px;padding:24px 0;background-color:#ffffff;text-align:center;border-radius:0 0 12px 12px;border-top:1px solid #efeff2}.modal-footer .link{color:#5546ff;font-size:14px;line-height:20px;cursor:pointer}";

const browserNotSupportedAssetPath = './assets/browser-not-supported.png';
const downloadHiroWalletAssetPath = './assets/download-hiro-wallet.png';
const CHROME_BROWSER_URL = 'https://www.google.com/chrome/';
const BRAVE_BROWSER_URL = 'https://brave.com/';
const FIREFOX_BROWSER_URL = 'https://www.mozilla.org/en-US/';
const CHROME_STORE_URL = 'https://chrome.google.com/webstore/detail/hiro-wallet/ldinpeekobnhjjdofggfgjlcehhmanlj/';
const FIREFOX_STORE_URL = 'https://addons.mozilla.org/en-US/firefox/addon/hiro-wallet/';
const Modal = class {
  constructor(hostRef) {
    index.registerInstance(this, hostRef);
  }
  handleCloseModal() {
    var _a, _b;
    this.modalEl.remove();
    (_b = (_a = this.authOptions).onCancel) === null || _b === void 0 ? void 0 : _b.call(_a);
  }
  handleDownloadPath(browser) {
    if (browser === 'Chrome') {
      window.open(CHROME_STORE_URL, '_blank');
    }
    else if (browser === 'Firefox') {
      window.open(FIREFOX_STORE_URL, '_blank');
    }
    else {
      window.open('https://www.hiro.so/wallet/install-web', '_blank');
    }
    this.hasOpenedInstall = true;
  }
  render() {
    const browser = getBrowser();
    return (index.h("div", { class: "modal-container" }, index.h("div", { class: "modal-body" }, index.h("div", { class: "modal-header" }, index.h("div", { class: "header-left" }, index.h("img", { src: hiroWalletLogoSvg })), index.h("img", { class: "header-right", src: closeIconSvg, onClick: () => this.handleCloseModal() })), browser ? (index.h("div", { class: "modal-content" }, index.h("div", { class: "modal-illustration" }, index.h("img", { src: index.getAssetPath(downloadHiroWalletAssetPath), width: 310 })), index.h("span", { class: "modal-title supported" }, "Add Hiro Wallet to ", browser), index.h("div", { class: "modal-subtitle" }, "Hiro Wallet is your gateway to Stacks apps like ", this.authOptions.appDetails.name, ". Add it to ", browser, " to continue."))) : (index.h("div", { class: "modal-content" }, index.h("div", { class: "modal-illustration" }, index.h("img", { src: index.getAssetPath(browserNotSupportedAssetPath), width: 239 })), index.h("span", { class: "modal-title unsupported" }, "Your browser isn't supported"), index.h("div", { class: "modal-subtitle" }, "To sign in to ", this.authOptions.appDetails.name, " using the Hiro Wallet browser extension, try", ` `, index.h("a", { href: CHROME_BROWSER_URL, target: "_blank" }, "Chrome"), `, `, index.h("a", { href: BRAVE_BROWSER_URL, target: "_blank" }, "Brave"), `, or `, index.h("a", { href: FIREFOX_BROWSER_URL, target: "_blank" }, "Firefox"), ` on desktop.`))), this.hasOpenedInstall ? (index.h("div", { class: "modal-subtitle" }, "After installing Hiro Wallet, reload this page and sign in.")) : browser ? (index.h("div", { class: "button-container" }, index.h("button", { class: "button", onClick: () => {
        this.handleDownloadPath(browser);
      } }, "Download Hiro Wallet"))) : null, index.h("div", { class: "modal-footer" }, index.h("span", { class: "link", onClick: () => window.open('https://www.hiro.so/wallet', '_blank') }, "About Hiro Wallet \u2192")))));
  }
  static get assetsDirs() { return ["assets"]; }
  get modalEl() { return index.getElement(this); }
};
Modal.style = modalCss;

exports.connect_modal = Modal;
