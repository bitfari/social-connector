{"ast":null,"code":"import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y(_ref) {\n  var swiper = _ref.swiper,\n      extendParams = _ref.extendParams,\n      on = _ref.on;\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group'\n    }\n  });\n  var liveRegion = null;\n\n  function notify(message) {\n    var notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber() {\n    var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 16;\n\n    var randomChar = function randomChar() {\n      return Math.round(16 * Math.random()).toString(16);\n    };\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    var params = swiper.params.a11y;\n    var $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || !swiper.navigation) return;\n    var _swiper$navigation = swiper.navigation,\n        $nextEl = _swiper$navigation.$nextEl,\n        $prevEl = _swiper$navigation.$prevEl;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function updatePagination() {\n    var params = swiper.params.a11y;\n\n    if (hasPagination()) {\n      swiper.pagination.bullets.each(function (bulletEl) {\n        var $bulletEl = $(bulletEl);\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      });\n    }\n  }\n\n  var initNavEl = function initNavEl($el, wrapperId, message) {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  function init() {\n    var params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    var $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    var $wrapperEl = swiper.$wrapperEl;\n    var wrapperId = $wrapperEl.attr('id') || \"swiper-wrapper-\".concat(getRandomNumber(16));\n    var live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    addElRole($(swiper.slides), params.slideRole);\n    var slidesLength = swiper.params.loop ? swiper.slides.filter(function (el) {\n      return !el.classList.contains(swiper.params.slideDuplicateClass);\n    }).length : swiper.slides.length;\n    swiper.slides.each(function (slideEl, index) {\n      var $slideEl = $(slideEl);\n      var slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n      var ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n      addElLabel($slideEl, ariaLabelMessage);\n    }); // Navigation\n\n    var $nextEl;\n    var $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasPagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    }\n  }\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    var $nextEl;\n    var $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasPagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    }\n  }\n\n  on('beforeInit', function () {\n    liveRegion = $(\"<span class=\\\"\".concat(swiper.params.a11y.notificationClass, \"\\\" aria-live=\\\"assertive\\\" aria-atomic=\\\"true\\\"></span>\"));\n  });\n  on('afterInit', function () {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n    updateNavigation();\n  });\n  on('toEdge', function () {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('fromEdge', function () {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', function () {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', function () {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}","map":{"version":3,"sources":["/Users/jvledesma/Downloads/vuexy-admin-v8.0.0/react-version/Bootstrap5/full-version/node_modules/swiper/modules/a11y/a11y.js"],"names":["classesToSelector","$","A11y","swiper","extendParams","on","a11y","enabled","notificationClass","prevSlideMessage","nextSlideMessage","firstSlideMessage","lastSlideMessage","paginationBulletMessage","slideLabelMessage","containerMessage","containerRoleDescriptionMessage","itemRoleDescriptionMessage","slideRole","liveRegion","notify","message","notification","length","html","getRandomNumber","size","randomChar","Math","round","random","toString","repeat","replace","makeElFocusable","$el","attr","makeElNotFocusable","addElRole","role","addElRoleDescription","description","addElControls","controls","addElLabel","label","addElId","id","addElLive","live","disableEl","enableEl","onEnterOrSpaceKey","e","keyCode","params","$targetEl","target","navigation","$nextEl","is","isEnd","loop","slideNext","$prevEl","isBeginning","slidePrev","pagination","bulletClass","click","updateNavigation","hasPagination","clickable","bullets","updatePagination","each","bulletEl","$bulletEl","renderBullet","index","initNavEl","wrapperId","tagName","init","append","$containerEl","$wrapperEl","autoplay","slides","slidesLength","filter","el","classList","contains","slideDuplicateClass","slideEl","$slideEl","slideIndex","parseInt","ariaLabelMessage","destroy","remove","off"],"mappings":"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","sourcesContent":["import classesToSelector from '../../shared/classes-to-selector.js';\nimport $ from '../../shared/dom.js';\nexport default function A11y({\n  swiper,\n  extendParams,\n  on\n}) {\n  extendParams({\n    a11y: {\n      enabled: true,\n      notificationClass: 'swiper-notification',\n      prevSlideMessage: 'Previous slide',\n      nextSlideMessage: 'Next slide',\n      firstSlideMessage: 'This is the first slide',\n      lastSlideMessage: 'This is the last slide',\n      paginationBulletMessage: 'Go to slide {{index}}',\n      slideLabelMessage: '{{index}} / {{slidesLength}}',\n      containerMessage: null,\n      containerRoleDescriptionMessage: null,\n      itemRoleDescriptionMessage: null,\n      slideRole: 'group'\n    }\n  });\n  let liveRegion = null;\n\n  function notify(message) {\n    const notification = liveRegion;\n    if (notification.length === 0) return;\n    notification.html('');\n    notification.html(message);\n  }\n\n  function getRandomNumber(size = 16) {\n    const randomChar = () => Math.round(16 * Math.random()).toString(16);\n\n    return 'x'.repeat(size).replace(/x/g, randomChar);\n  }\n\n  function makeElFocusable($el) {\n    $el.attr('tabIndex', '0');\n  }\n\n  function makeElNotFocusable($el) {\n    $el.attr('tabIndex', '-1');\n  }\n\n  function addElRole($el, role) {\n    $el.attr('role', role);\n  }\n\n  function addElRoleDescription($el, description) {\n    $el.attr('aria-roledescription', description);\n  }\n\n  function addElControls($el, controls) {\n    $el.attr('aria-controls', controls);\n  }\n\n  function addElLabel($el, label) {\n    $el.attr('aria-label', label);\n  }\n\n  function addElId($el, id) {\n    $el.attr('id', id);\n  }\n\n  function addElLive($el, live) {\n    $el.attr('aria-live', live);\n  }\n\n  function disableEl($el) {\n    $el.attr('aria-disabled', true);\n  }\n\n  function enableEl($el) {\n    $el.attr('aria-disabled', false);\n  }\n\n  function onEnterOrSpaceKey(e) {\n    if (e.keyCode !== 13 && e.keyCode !== 32) return;\n    const params = swiper.params.a11y;\n    const $targetEl = $(e.target);\n\n    if (swiper.navigation && swiper.navigation.$nextEl && $targetEl.is(swiper.navigation.$nextEl)) {\n      if (!(swiper.isEnd && !swiper.params.loop)) {\n        swiper.slideNext();\n      }\n\n      if (swiper.isEnd) {\n        notify(params.lastSlideMessage);\n      } else {\n        notify(params.nextSlideMessage);\n      }\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl && $targetEl.is(swiper.navigation.$prevEl)) {\n      if (!(swiper.isBeginning && !swiper.params.loop)) {\n        swiper.slidePrev();\n      }\n\n      if (swiper.isBeginning) {\n        notify(params.firstSlideMessage);\n      } else {\n        notify(params.prevSlideMessage);\n      }\n    }\n\n    if (swiper.pagination && $targetEl.is(classesToSelector(swiper.params.pagination.bulletClass))) {\n      $targetEl[0].click();\n    }\n  }\n\n  function updateNavigation() {\n    if (swiper.params.loop || !swiper.navigation) return;\n    const {\n      $nextEl,\n      $prevEl\n    } = swiper.navigation;\n\n    if ($prevEl && $prevEl.length > 0) {\n      if (swiper.isBeginning) {\n        disableEl($prevEl);\n        makeElNotFocusable($prevEl);\n      } else {\n        enableEl($prevEl);\n        makeElFocusable($prevEl);\n      }\n    }\n\n    if ($nextEl && $nextEl.length > 0) {\n      if (swiper.isEnd) {\n        disableEl($nextEl);\n        makeElNotFocusable($nextEl);\n      } else {\n        enableEl($nextEl);\n        makeElFocusable($nextEl);\n      }\n    }\n  }\n\n  function hasPagination() {\n    return swiper.pagination && swiper.params.pagination.clickable && swiper.pagination.bullets && swiper.pagination.bullets.length;\n  }\n\n  function updatePagination() {\n    const params = swiper.params.a11y;\n\n    if (hasPagination()) {\n      swiper.pagination.bullets.each(bulletEl => {\n        const $bulletEl = $(bulletEl);\n        makeElFocusable($bulletEl);\n\n        if (!swiper.params.pagination.renderBullet) {\n          addElRole($bulletEl, 'button');\n          addElLabel($bulletEl, params.paginationBulletMessage.replace(/\\{\\{index\\}\\}/, $bulletEl.index() + 1));\n        }\n      });\n    }\n  }\n\n  const initNavEl = ($el, wrapperId, message) => {\n    makeElFocusable($el);\n\n    if ($el[0].tagName !== 'BUTTON') {\n      addElRole($el, 'button');\n      $el.on('keydown', onEnterOrSpaceKey);\n    }\n\n    addElLabel($el, message);\n    addElControls($el, wrapperId);\n  };\n\n  function init() {\n    const params = swiper.params.a11y;\n    swiper.$el.append(liveRegion); // Container\n\n    const $containerEl = swiper.$el;\n\n    if (params.containerRoleDescriptionMessage) {\n      addElRoleDescription($containerEl, params.containerRoleDescriptionMessage);\n    }\n\n    if (params.containerMessage) {\n      addElLabel($containerEl, params.containerMessage);\n    } // Wrapper\n\n\n    const $wrapperEl = swiper.$wrapperEl;\n    const wrapperId = $wrapperEl.attr('id') || `swiper-wrapper-${getRandomNumber(16)}`;\n    const live = swiper.params.autoplay && swiper.params.autoplay.enabled ? 'off' : 'polite';\n    addElId($wrapperEl, wrapperId);\n    addElLive($wrapperEl, live); // Slide\n\n    if (params.itemRoleDescriptionMessage) {\n      addElRoleDescription($(swiper.slides), params.itemRoleDescriptionMessage);\n    }\n\n    addElRole($(swiper.slides), params.slideRole);\n    const slidesLength = swiper.params.loop ? swiper.slides.filter(el => !el.classList.contains(swiper.params.slideDuplicateClass)).length : swiper.slides.length;\n    swiper.slides.each((slideEl, index) => {\n      const $slideEl = $(slideEl);\n      const slideIndex = swiper.params.loop ? parseInt($slideEl.attr('data-swiper-slide-index'), 10) : index;\n      const ariaLabelMessage = params.slideLabelMessage.replace(/\\{\\{index\\}\\}/, slideIndex + 1).replace(/\\{\\{slidesLength\\}\\}/, slidesLength);\n      addElLabel($slideEl, ariaLabelMessage);\n    }); // Navigation\n\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl && $nextEl.length) {\n      initNavEl($nextEl, wrapperId, params.nextSlideMessage);\n    }\n\n    if ($prevEl && $prevEl.length) {\n      initNavEl($prevEl, wrapperId, params.prevSlideMessage);\n    } // Pagination\n\n\n    if (hasPagination()) {\n      swiper.pagination.$el.on('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    }\n  }\n\n  function destroy() {\n    if (liveRegion && liveRegion.length > 0) liveRegion.remove();\n    let $nextEl;\n    let $prevEl;\n\n    if (swiper.navigation && swiper.navigation.$nextEl) {\n      $nextEl = swiper.navigation.$nextEl;\n    }\n\n    if (swiper.navigation && swiper.navigation.$prevEl) {\n      $prevEl = swiper.navigation.$prevEl;\n    }\n\n    if ($nextEl) {\n      $nextEl.off('keydown', onEnterOrSpaceKey);\n    }\n\n    if ($prevEl) {\n      $prevEl.off('keydown', onEnterOrSpaceKey);\n    } // Pagination\n\n\n    if (hasPagination()) {\n      swiper.pagination.$el.off('keydown', classesToSelector(swiper.params.pagination.bulletClass), onEnterOrSpaceKey);\n    }\n  }\n\n  on('beforeInit', () => {\n    liveRegion = $(`<span class=\"${swiper.params.a11y.notificationClass}\" aria-live=\"assertive\" aria-atomic=\"true\"></span>`);\n  });\n  on('afterInit', () => {\n    if (!swiper.params.a11y.enabled) return;\n    init();\n    updateNavigation();\n  });\n  on('toEdge', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('fromEdge', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updateNavigation();\n  });\n  on('paginationUpdate', () => {\n    if (!swiper.params.a11y.enabled) return;\n    updatePagination();\n  });\n  on('destroy', () => {\n    if (!swiper.params.a11y.enabled) return;\n    destroy();\n  });\n}"]},"metadata":{},"sourceType":"module"}