{"ast":null,"code":"// ** React Imports\nimport{useState,useEffect}from'react';// ** Custom Components\nimport Avatar from'@components/avatar';// ** Third Party Components\nimport classnames from'classnames';import PerfectScrollbar from'react-perfect-scrollbar';import{MoreVertical,Send,Image}from'react-feather';// ** Reactstrap Imports\nimport{Card,CardHeader,Form,Label,InputGroup,Input,InputGroupText,Button}from'reactstrap';// ** Images\nimport profilePic from'@src/assets/images/portrait/small/avatar-s-11.jpg';// ** Styles\nimport'@styles/base/pages/app-instafriend-list.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const data={chat:{id:2,userId:1,unseenMsgs:0,chat:[{message:\"How can we help? We're here for you!\",time:'Mon Dec 10 2018 07:45:00 GMT+0000 (GMT)',senderId:11},{message:'Hey John, I am looking for the best admin template. Could you please help me to find it out?',time:'Mon Dec 10 2018 07:45:23 GMT+0000 (GMT)',senderId:1},{message:'It should be Bootstrap 5 compatible.',time:'Mon Dec 10 2018 07:45:55 GMT+0000 (GMT)',senderId:1},{message:'Absolutely!',time:'Mon Dec 10 2018 07:46:00 GMT+0000 (GMT)',senderId:11},{message:'Modern admin is the responsive bootstrap 5 admin template.!',time:'Mon Dec 10 2018 07:46:05 GMT+0000 (GMT)',senderId:11},{message:'Looks clean and fresh UI.',time:'Mon Dec 10 2018 07:46:23 GMT+0000 (GMT)',senderId:1},{message:\"It's perfect for my next project.\",time:'Mon Dec 10 2018 07:46:33 GMT+0000 (GMT)',senderId:1},{message:'How can I purchase it?',time:'Mon Dec 10 2018 07:46:43 GMT+0000 (GMT)',senderId:1},{message:'Thanks, from ThemeForest.',time:'Mon Dec 10 2018 07:46:53 GMT+0000 (GMT)',senderId:11},{message:'I will purchase it for sure. ðŸ‘',time:'2020-12-08T13:52:38.013Z',senderId:1}]},contact:{id:1,fullName:'Felecia Rower',avatar:require('@src/assets/images/portrait/small/avatar-s-20.jpg').default,status:'away'}};const CardChat=()=>{// ** States\nconst[msg,setMsg]=useState('');const[chatRef,setChatRef]=useState(null);const[chatData,setChatData]=useState(data);//** Formats chat data based on sender\nconst formattedChatData=()=>{let chatLog=[];if(chatData){chatLog=chatData.chat.chat;}const formattedChatLog=[];let chatMessageSenderId=chatLog[0]?chatLog[0].senderId:undefined;let msgGroup={senderId:chatMessageSenderId,messages:[]};chatLog.forEach((msg,index)=>{if(chatMessageSenderId===msg.senderId){msgGroup.messages.push({msg:msg.message,time:msg.time});}else{chatMessageSenderId=msg.senderId;formattedChatLog.push(msgGroup);msgGroup={senderId:msg.senderId,messages:[{msg:msg.message,time:msg.time}]};}if(index===chatLog.length-1)formattedChatLog.push(msgGroup);});return formattedChatLog;};//** Renders user chat\nconst renderChats=()=>{return formattedChatData().map((item,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:classnames('chat',{'chat-left':item.senderId!==11}),children:[/*#__PURE__*/_jsx(\"div\",{className:\"chat-avatar\",children:/*#__PURE__*/_jsx(Avatar,{className:\"box-shadow-1 cursor-pointer\",img:item.senderId===11?profilePic:chatData.contact.avatar})}),/*#__PURE__*/_jsx(\"div\",{className:\"chat-body\",children:item.messages.map(chat=>/*#__PURE__*/_jsx(\"div\",{className:\"chat-content\",children:/*#__PURE__*/_jsx(\"p\",{children:chat.msg})},chat.msg))})]},index);});};//** Scroll to chat bottom\nconst scrollToBottom=()=>{chatRef.scrollTop=Number.MAX_SAFE_INTEGER;};useEffect(()=>{if(chatRef!==null){scrollToBottom();}},[chatRef,chatData.chat.chat.length]);const handleSendMsg=e=>{e.preventDefault();if(msg.trim().length){const newMsg=chatData;newMsg.chat.chat.push({message:msg,time:new Date(),senderId:11});setChatData(newMsg);setMsg('');}};return/*#__PURE__*/_jsxs(Card,{className:\"chat-widget\",children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(Avatar,{status:\"online\",className:\"me-2\",img:chatData.contact.avatar,imgHeight:\"34\",imgWidth:\"34\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"mb-0\",children:\"Carrie Hawkins\"})]}),/*#__PURE__*/_jsx(MoreVertical,{size:18,className:\"cursor-pointer\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"chat-app-window\",children:[/*#__PURE__*/_jsx(PerfectScrollbar,{containerRef:el=>setChatRef(el),className:\"user-chats scroll-area\",options:{wheelPropagation:false},children:/*#__PURE__*/_jsx(\"div\",{className:\"chats\",children:renderChats()})}),/*#__PURE__*/_jsxs(Form,{className:\"chat-app-form\",onSubmit:e=>handleSendMsg(e),children:[/*#__PURE__*/_jsxs(InputGroup,{className:\"input-group-merge me-1 form-send-message\",children:[/*#__PURE__*/_jsx(InputGroupText,{children:/*#__PURE__*/_jsxs(Label,{className:\"attachment-icon mb-0\",for:\"attach-doc\",children:[/*#__PURE__*/_jsx(Image,{className:\"cursor-pointer text-secondary\",size:14}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"attach-doc\",hidden:true})]})}),/*#__PURE__*/_jsx(Input,{value:msg,className:\"border-0\",onChange:e=>setMsg(e.target.value),placeholder:\"Type your message\"})]}),/*#__PURE__*/_jsxs(Button,{className:\"send\",color:\"primary\",children:[/*#__PURE__*/_jsx(Send,{size:14,className:\"d-lg-none\"}),/*#__PURE__*/_jsx(\"span\",{className:\"d-none d-lg-block\",children:\"Send\"})]})]})]})]});};export default CardChat;","map":{"version":3,"sources":["/Users/jvledesma/www-bitfari/src/views/ui-elements/cards/advance/CardChat.js"],"names":["useState","useEffect","Avatar","classnames","PerfectScrollbar","MoreVertical","Send","Image","Card","CardHeader","Form","Label","InputGroup","Input","InputGroupText","Button","profilePic","data","chat","id","userId","unseenMsgs","message","time","senderId","contact","fullName","avatar","require","default","status","CardChat","msg","setMsg","chatRef","setChatRef","chatData","setChatData","formattedChatData","chatLog","formattedChatLog","chatMessageSenderId","undefined","msgGroup","messages","forEach","index","push","length","renderChats","map","item","scrollToBottom","scrollTop","Number","MAX_SAFE_INTEGER","handleSendMsg","e","preventDefault","trim","newMsg","Date","el","wheelPropagation","target","value"],"mappings":"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","sourcesContent":["// ** React Imports\r\nimport { useState, useEffect } from 'react'\r\n\r\n// ** Custom Components\r\nimport Avatar from '@components/avatar'\r\n\r\n// ** Third Party Components\r\nimport classnames from 'classnames'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport { MoreVertical, Send, Image } from 'react-feather'\r\n\r\n// ** Reactstrap Imports\r\nimport { Card, CardHeader, Form, Label, InputGroup, Input, InputGroupText, Button } from 'reactstrap'\r\n\r\n// ** Images\r\nimport profilePic from '@src/assets/images/portrait/small/avatar-s-11.jpg'\r\n\r\n// ** Styles\r\nimport '@styles/base/pages/app-instafriend-list.scss'\r\n\r\nconst data = {\r\n  chat: {\r\n    id: 2,\r\n    userId: 1,\r\n    unseenMsgs: 0,\r\n    chat: [\r\n      {\r\n        message: \"How can we help? We're here for you!\",\r\n        time: 'Mon Dec 10 2018 07:45:00 GMT+0000 (GMT)',\r\n        senderId: 11\r\n      },\r\n      {\r\n        message: 'Hey John, I am looking for the best admin template. Could you please help me to find it out?',\r\n        time: 'Mon Dec 10 2018 07:45:23 GMT+0000 (GMT)',\r\n        senderId: 1\r\n      },\r\n      {\r\n        message: 'It should be Bootstrap 5 compatible.',\r\n        time: 'Mon Dec 10 2018 07:45:55 GMT+0000 (GMT)',\r\n        senderId: 1\r\n      },\r\n      { message: 'Absolutely!', time: 'Mon Dec 10 2018 07:46:00 GMT+0000 (GMT)', senderId: 11 },\r\n      {\r\n        message: 'Modern admin is the responsive bootstrap 5 admin template.!',\r\n        time: 'Mon Dec 10 2018 07:46:05 GMT+0000 (GMT)',\r\n        senderId: 11\r\n      },\r\n      { message: 'Looks clean and fresh UI.', time: 'Mon Dec 10 2018 07:46:23 GMT+0000 (GMT)', senderId: 1 },\r\n      { message: \"It's perfect for my next project.\", time: 'Mon Dec 10 2018 07:46:33 GMT+0000 (GMT)', senderId: 1 },\r\n      { message: 'How can I purchase it?', time: 'Mon Dec 10 2018 07:46:43 GMT+0000 (GMT)', senderId: 1 },\r\n      { message: 'Thanks, from ThemeForest.', time: 'Mon Dec 10 2018 07:46:53 GMT+0000 (GMT)', senderId: 11 },\r\n      { message: 'I will purchase it for sure. ðŸ‘', time: '2020-12-08T13:52:38.013Z', senderId: 1 }\r\n    ]\r\n  },\r\n  contact: {\r\n    id: 1,\r\n    fullName: 'Felecia Rower',\r\n    avatar: require('@src/assets/images/portrait/small/avatar-s-20.jpg').default,\r\n    status: 'away'\r\n  }\r\n}\r\n\r\nconst CardChat = () => {\r\n  // ** States\r\n  const [msg, setMsg] = useState('')\r\n  const [chatRef, setChatRef] = useState(null)\r\n  const [chatData, setChatData] = useState(data)\r\n\r\n  //** Formats chat data based on sender\r\n  const formattedChatData = () => {\r\n    let chatLog = []\r\n    if (chatData) {\r\n      chatLog = chatData.chat.chat\r\n    }\r\n\r\n    const formattedChatLog = []\r\n    let chatMessageSenderId = chatLog[0] ? chatLog[0].senderId : undefined\r\n    let msgGroup = {\r\n      senderId: chatMessageSenderId,\r\n      messages: []\r\n    }\r\n    chatLog.forEach((msg, index) => {\r\n      if (chatMessageSenderId === msg.senderId) {\r\n        msgGroup.messages.push({\r\n          msg: msg.message,\r\n          time: msg.time\r\n        })\r\n      } else {\r\n        chatMessageSenderId = msg.senderId\r\n        formattedChatLog.push(msgGroup)\r\n        msgGroup = {\r\n          senderId: msg.senderId,\r\n          messages: [\r\n            {\r\n              msg: msg.message,\r\n              time: msg.time\r\n            }\r\n          ]\r\n        }\r\n      }\r\n      if (index === chatLog.length - 1) formattedChatLog.push(msgGroup)\r\n    })\r\n    return formattedChatLog\r\n  }\r\n\r\n  //** Renders user chat\r\n  const renderChats = () => {\r\n    return formattedChatData().map((item, index) => {\r\n      return (\r\n        <div\r\n          key={index}\r\n          className={classnames('chat', {\r\n            'chat-left': item.senderId !== 11\r\n          })}\r\n        >\r\n          <div className='chat-avatar'>\r\n            <Avatar\r\n              className='box-shadow-1 cursor-pointer'\r\n              img={item.senderId === 11 ? profilePic : chatData.contact.avatar}\r\n            />\r\n          </div>\r\n\r\n          <div className='chat-body'>\r\n            {item.messages.map(chat => (\r\n              <div key={chat.msg} className='chat-content'>\r\n                <p>{chat.msg}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )\r\n    })\r\n  }\r\n\r\n  //** Scroll to chat bottom\r\n  const scrollToBottom = () => {\r\n    chatRef.scrollTop = Number.MAX_SAFE_INTEGER\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (chatRef !== null) {\r\n      scrollToBottom()\r\n    }\r\n  }, [chatRef, chatData.chat.chat.length])\r\n\r\n  const handleSendMsg = e => {\r\n    e.preventDefault()\r\n    if (msg.trim().length) {\r\n      const newMsg = chatData\r\n\r\n      newMsg.chat.chat.push({\r\n        message: msg,\r\n        time: new Date(),\r\n        senderId: 11\r\n      })\r\n\r\n      setChatData(newMsg)\r\n      setMsg('')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Card className='chat-widget'>\r\n      <CardHeader>\r\n        <div className='d-flex align-items-center'>\r\n          <Avatar status='online' className='me-2' img={chatData.contact.avatar} imgHeight='34' imgWidth='34' />\r\n          <h5 className='mb-0'>Carrie Hawkins</h5>\r\n        </div>\r\n        <MoreVertical size={18} className='cursor-pointer' />\r\n      </CardHeader>\r\n      <div className='chat-app-window'>\r\n        <PerfectScrollbar\r\n          containerRef={el => setChatRef(el)}\r\n          className='user-chats scroll-area'\r\n          options={{ wheelPropagation: false }}\r\n        >\r\n          <div className='chats'>{renderChats()}</div>\r\n        </PerfectScrollbar>\r\n        <Form className='chat-app-form' onSubmit={e => handleSendMsg(e)}>\r\n          <InputGroup className='input-group-merge me-1 form-send-message'>\r\n            <InputGroupText>\r\n              <Label className='attachment-icon mb-0' for='attach-doc'>\r\n                <Image className='cursor-pointer text-secondary' size={14} />\r\n                <input type='file' id='attach-doc' hidden />\r\n              </Label>\r\n            </InputGroupText>\r\n            <Input\r\n              value={msg}\r\n              className='border-0'\r\n              onChange={e => setMsg(e.target.value)}\r\n              placeholder='Type your message'\r\n            />\r\n          </InputGroup>\r\n          <Button className='send' color='primary'>\r\n            <Send size={14} className='d-lg-none' />\r\n            <span className='d-none d-lg-block'>Send</span>\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default CardChat\r\n"]},"metadata":{},"sourceType":"module"}